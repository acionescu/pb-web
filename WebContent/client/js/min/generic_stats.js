log("loaded generic_stats.js");var eTypesMap={REQUEST_TEMPLATE:"Solicitări",PETITION:"Petiții"};var statsConfig={templates:{label:"Formulare adăugate",desc:"Număr de formulare adăugate pe platforma Panoul de Bord"},users:{label:"Total interacțiuni",desc:"Număr total de trimiteri plus persoane afectate de o problemă sesizată"},unique_users:{label:"Utilizatori unici",desc:"Numărul de utilizatori unici care au interacționat cu formularele adăugate"},sent:{label:"Trimise",desc:"Numărul total de trimiteri"},registrations:{label:"Numere înregistrare",desc:"Totalul numerelelor de înregistrare adăugate în aplicație pentru sesizările trimise"},responses:{label:"Răspunsuri primite",desc:"Numărul total de răspunsuri adăugate în aplicație pentru sesizările trimise"},resolved:{label:"Rezolvate",desc:"Câte sesizări au fost marcate de utilizatori ca fiind rezolvate"}};function displayStats(f){var e=f.notifications;var h=$("#statsCont");for(var g=0;g<e.length;g++){var d=e[g];var c=h.find("#"+d.id);var k=false;if(c.length==0){var c=$("#nTemplate").clone();c.attr("id",d.id);c.find(".notifHeader").first().html(d.title);var a=c.find(".notifStats");a.hide();h.append(c);c.show();k=true}var b=c.find(".notifBody");var j=b.find(".statsBodyCont");if(j.length==0){j=$("<div>").addClass("statsBodyCont");b.append(j)}if(k){j.append(buildCaptionsCont(d))}var l=buildStatsContainer(d,k);j.append(l)}}function buildCaptionsCont(d){var c=$("#statsTemplate").clone();var g=c.find(".statsHeader");g.append($("<div>").addClass("statsName caption").html("Categorie"));c.attr("id",d.id+"-captions");var e=0;var l=c.find(".statsBody");for(var b in statsConfig){var h=statsConfig[b];var k=h.label;var f=h.desc;var a=$("<div>").addClass("statsCol");a.attr("id",d.id+"-"+b);var j=$("<div>").addClass("statsName").addClass("alt"+(e%2));j.append($("<div>").addClass("statText").html(k).attr("title",f));a.append(j);l.append(a);e++}return c}function buildStatsContainer(d,o){var j=d.stats;var h=j.extraStats;var c=$("#statsTemplate").clone();var b=eTypesMap[h.complex_type];c.attr("id",d.id+"-"+h.complex_type);var g=c.find(".statsHeader");g.append($("<div>").addClass("statsVal caption").html(b));delete h.complex_type;var n=c.find(".statsBody");var e=0;for(var a in statsConfig){var k=statsConfig[a];var l=k.label;var f=k.desc;var p=$("<div>").addClass("statsCol");p.attr("id",d.id+"-"+b+"-"+a);n.append(p);var m=$("<div>").addClass("statsVal").html(h[a]);m.addClass("alt"+(e%2));p.append(m);e++}c.show();return c}displayStats(lastData.data);