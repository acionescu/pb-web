var JSUTIL=JSUTIL||{injectLinkToHead:function(t){var e=document.createElement("link");e.href=t,e.type="text/css",e.rel="stylesheet",e.media="screen,print",document.getElementsByTagName("head")[0].appendChild(e)},injectScriptToHead:function(t,e){var n=document.createElement("script");n.src=t,document.getElementsByTagName("head")[0].appendChild(n),null!=e&&(n.onload=function(){e()})},toSlopeLine:function(t,e,n,r){var a=(r-e)/(n-t);return{m:a,b:e-a*t}},findCircleLineIntersections:function(t,e,n,r,a){var o=1+Math.pow(r,2),i=2*-e+r*(a-n)*2,c=Math.pow(e,2)+Math.pow(a-n,2)-Math.pow(t,2);if(0<=Math.pow(i,2)-4*o*c){var h=[(-i+Math.sqrt(Math.pow(i,2)-4*o*c))/(2*o),(-i-Math.sqrt(Math.pow(i,2)-4*o*c))/(2*o)];return[{x:h[0],y:r*h[0]+a},{x:h[1],y:r*h[1]+a}]}return console.log("no intersection"),[]},findCircleLineIntersections2:function(t,e,n,r,a){var o=r-e,i=a-n,c=Math.sqrt(o*o+i*i),h=e*a-r*n,s=Math.sqrt(t*t*c*c-h*h);if(s<0)return[];var u=Math.sign(i),f=h*i+u*o*Math.sqrt(s),l=h*i-u*o*Math.sqrt(s);return[{x:f,y:-h*o+Math.abs(i)*Math.sqrt(s)},{x:l,y:-h*o-Math.abs(i)*Math.sqrt(s)}]},getSegmentLength:function(t,e,n,r){return Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2))},getShortestSegment:function(t,e){var r,a,o=1e16;return t.forEach(function(n){e.forEach(function(t){var e=JSUTIL.getSegmentLength(n.x,n.y,t.x,t.y);e<o&&(o=e,r=n,a=t)})}),{p1:r,p2:a}},getShortestSegmentBetweenCircles:function(t,e,n,r,a,o){var i=JSUTIL.toSlopeLine(0,0,a-e,o-n),c=JSUTIL.findCircleLineIntersections(t,0,0,i.m,0);i=JSUTIL.toSlopeLine(0,0,e-a,n-o);var h=JSUTIL.findCircleLineIntersections(r,0,0,i.m,0);return c.forEach(function(t){t.x+=e,t.y+=n}),h.forEach(function(t){t.x+=a,t.y+=o}),JSUTIL.getShortestSegment(c,h)}};